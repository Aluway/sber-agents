# Идея проекта: ИИ-агент финансового коучинга "FinMind"

## 1. Название проекта
**FinMind: Персональный ИИ-коуч по управлению бюджетом**

## 2. Описание проекта
FinMind — это интеллектуальный агент, который выступает в роли персонального финансового консультанта, специализирующегося на **конкретных рекомендациях по бюджету и тратам**. Его главная цель — не просто анализировать, а активно помогать пользователю оптимизировать его ежедневные финансы. Агент в режиме, близком к реальному времени, анализирует транзакции, сравнивает их с установленными лимитами, выявляет проблемные зоны и выдает четкие, actionable советы (например: "На этой неделе вы потратили 70% месячного бюджета на 'Развлечения'. Рекомендуем приостановить походы в рестораны до конца месяца" или "У вас есть шанс сэкономить 5000 руб., если вы откажетесь от спонтанных онлайн-покупок").

## 3. Целевая аудитория
*   **Физические лица,** желающие взять под контроль свои повседневные расходы.
*   **Люди, живущие от зарплаты до зарплаты,** которым нужна помощь в дисциплинированном соблюдении бюджета.
*   **Семьи,** стремящиеся к согласованному планированию общих финансов.

## 4. Основные функции и возможности
*   **"Живой" мониторинг бюджета:** Автоматическое отслеживание расходов по категориям в сравнении с установленными лимитами. Визуализация оставшихся сумм.
*   **Проактивные предупреждения:** Умные уведомления при быстром расходовании бюджета в какой-либо категории или при необычно крупной трате.
*   **Конкретные рекомендации по экономии:** Персонализированные советы, основанные на анализе паттернов пользователя. Например: "Вы тратите на доставку еды на 30% больше, чем в прошлом месяце. Готовьте дома 2 раза в неделю, чтобы уложиться в бюджет".
*   **Анализ подписок:** Автоматическое обнаружение регулярных списаний (подписки) и рекомендации по отказу от неиспользуемых.
*   **Сценарии "Что если...":** Помощь в принятии решений. ("Если вы купите этот гаджет за 50 тыс. руб., как это повлияет на вашу цель по накоплениям?").
*   **Мультимодальный ввод данных:** Возможность мгновенно учесть трату путем загрузки фото чека.

## 5. Технологии и подходы из курса

| Технология / Подход | Применение в проекте FinMind |
| :--- | :--- |
| **LLM через API** | Основная модель для ведения естественного диалога и генерации понятных, контекстных рекомендаций на основе структурированных данных. |
| **Structured Output** | **Критически важен.** Для парсинга финансовых намерений пользователя: `{"action": "set_budget", "category": "groceries", "amount": 15000}` и для извлечения данных из чека: `{"amount": 525.50, "merchant": "Пятерочка", "category": "products"}`. |
| **Мультимодальность** | <ul><li>**Изображения:** Ключевая функция. Vision-модель анализирует фото чека, а Structured Output парсит его в JSON для записи в историю трат.</li><li>**Голос (опционально):** Для быстрого ввода трат "на ходу" и получения голосовых уведомлений.</li></ul> |
| **RAG** | База знаний с практическими статьями по экономии ( "100 способов сэкономить на продуктах", "Как снизить коммунальные платежи"), что позволяет агенту давать конкретные и разнообразные жизненные советы, а не общие фразы. |
| **Агентные паттерны и LangGraph** | **Сердце проекта.** Создание интеллектуальных workflow, где агент сам решает, какое действие предпринять: <ul><li>**Workflow "Еженедельный аудит":** Получение транзакций -> Сравнение с бюджетом -> Выявление "слабых" категорий -> Поиск советов в RAG -> Формирование отчета с 3-мя главными рекомендациями.</li><li>**Workflow "Обработка чека":** Анализ изображения -> Извлечение данных -> Запись траты -> Проверка не влезли ли в категории в бюджет -> Мгновенное предупреждение пользователя.</li></ul> |
| **MCP (Model Context Protocol)** | Безопасное подключение к источникам данных и сервисам: <ul><li>`BudgetTrackerServer` (основной сервер для чтения/записи бюджета и транзакций).</li><li>`AlertService` (сервис для отправки проактивных уведомлений).</li><li>`SpendingAnalytics` (сервис для сложных агрегаций и выявления паттернов).</li></ul> |

## 6. План развития проекта по темам курса

### Этап 1: Базовый коуч (LLM API + Structured Output)
*   **Цель:** Создать прототип, понимающий бюджетные команды и генерирующий простые рекомендации.
*   **Реализация:**
    *   Настройка LLM. Prompt engineering для роли "строгий, но дружелюбный финансовый коуч".
    * **Structured Output:** Создание Pydantic-моделей для парсинга:
        * `SetBudgetIntent` (категория, сумма)
        * `AddExpenseIntent` (сумма, категория, описание)
        * `AnalyzeSpendingIntent` (период)
    *   Агент работает с заранее заданным списком транзакций и выдает советы вида: "Вы превысили бюджет по категории 'Кафе' на 15%".

### Этап 2: Основа для анализа (RAG + Мультимодальность - Изображения)
*   **Цель:** Научить агента давать конкретные советы и принимать данные из реального мира.
*   **Реализация:**
    *   **RAG:** Наполнение векторной базы (ChromaDB) статьями с конкретными лайфхаками по экономии. Теперь советы агента становятся конкретнее: "Вы превысили бюджет на 'Продукты'. Посмотрите в RAG статью 'Как планировать меню на неделю', чтобы сократить расходы на 20%".
    *   **Мультимодальность (Изображения):** Реализация пайплайна "чек -> анализ -> запись". Пользователь загружает фото -> Vision-модель + Structured Output извлекают данные -> транзакция добавляется в "живой" бюджет.

### Этап 3: Интеллектуальные процессы (Агентные паттерны, LangGraph)
*   **Цель:** Создать проактивного агента, который сам запускает сценарии при определенных условиях.
*   **Реализация:**
    *   Разработка на LangGraph StateGraph:
        *   **Главный цикл агента:** Агент постоянно отслеживает новые транзакции (в фоне). При поступлении новой траты он запускает воркфлоу "Проверка бюджета", который может завершиться либо молчанием, либо отправкой предупреждения.
        *   **Workflow "Еженедельный разбор полетов":** Агент в конце недели автоматически запускает сложный анализ, который включает сравнение с прошлой неделей, проверку прогресса по целям и генерацию 3-х самых приоритетных рекомендаций на следующую неделю.

### Этап 4: Интеграция в экосистему (MCP)
*   **Цель:** Обеспечить устойчивое хранение данных и механизмы уведомлений.
*   **Реализация:**
    *   Разработка MCP-серверов:
        *   `PersonalBudgetMCP`: Главный сервер. Имеет методы `get_budget()`, `add_transaction()`, `get_weekly_report()`. Хранит данные в SQLite.
        *   `NotificationMCP`: Сервер, эмулирующий отправку push-уведомлений или сообщений в Telegram.
    *   Агент через MCP-клиента получает доступ к этим серверам. Теперь он полноценно управляет бюджетом пользователя: записывает новые траты, проверяет лимиты и рассылает предупреждения.